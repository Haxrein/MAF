var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function(a){return a.raw=a};$jscomp.createTemplateTagFirstArgWithRaw=function(a,b){a.raw=b;return a};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};
$jscomp.arrayFromIterator=function(a){for(var b,c=[];!(b=a.next()).done;)c.push(b.value);return c};$jscomp.arrayFromIterable=function(a){return a instanceof Array?a:$jscomp.arrayFromIterator($jscomp.makeIterator(a))};$jscomp.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");};
$jscomp.global=$jscomp.getGlobal(this);$jscomp.checkEs6ConformanceViaProxy=function(){try{var a={},b=Object.create(new $jscomp.global.Proxy(a,{get:function(c,d,e){return c==a&&"q"==d&&e==b}}));return!0===b.q}catch(c){return!1}};$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1;$jscomp.ES6_CONFORMANCE=$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&$jscomp.checkEs6ConformanceViaProxy();$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;
$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};
$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(a,b){var c=$jscomp.propertyToPolyfillSymbol[b];if(null==c)return a[b];c=a[c];return void 0!==c?c:a[b]};$jscomp.polyfill=function(a,b,c,d){b&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(a,b,c,d):$jscomp.polyfillUnisolated(a,b,c,d))};
$jscomp.polyfillUnisolated=function(a,b,c,d){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))return;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})};
$jscomp.polyfillIsolated=function(a,b,c,d){var e=a.split(".");a=1===e.length;d=e[0];d=!a&&d in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var m=0;m<e.length-1;m++){var h=e[m];if(!(h in d))return;d=d[h]}e=e[e.length-1];c=$jscomp.IS_SYMBOL_NATIVE&&"es6"===c?d[e]:null;b=b(c);null!=b&&(a?$jscomp.defineProperty($jscomp.polyfills,e,{configurable:!0,writable:!0,value:b}):b!==c&&($jscomp.propertyToPolyfillSymbol[e]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(e):$jscomp.POLYFILL_PREFIX+e,e=
$jscomp.propertyToPolyfillSymbol[e],$jscomp.defineProperty(d,e,{configurable:!0,writable:!0,value:b})))};$jscomp.initSymbol=function(){};
$jscomp.polyfill("Symbol",function(a){if(a)return a;var b=function(e,m){this.$jscomp$symbol$id_=e;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:m})};b.prototype.toString=function(){return this.$jscomp$symbol$id_};var c=0,d=function(e){if(this instanceof d)throw new TypeError("Symbol is not a constructor");return new b("jscomp_symbol_"+(e||"")+"_"+c++,e)};return d},"es6","es3");$jscomp.initSymbolIterator=function(){};
$jscomp.polyfill("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),c=0;c<b.length;c++){var d=$jscomp.global[b[c]];"function"===typeof d&&"function"!=typeof d.prototype[a]&&$jscomp.defineProperty(d.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return a},"es6",
"es3");$jscomp.initSymbolAsyncIterator=function(){};$jscomp.iteratorPrototype=function(a){a={next:a};a[Symbol.iterator]=function(){return this};return a};$jscomp.owns=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};
$jscomp.polyfill("WeakMap",function(a){function b(){if(!a||!Object.seal)return!1;try{var g=Object.seal({}),k=Object.seal({}),n=new a([[g,2],[k,3]]);if(2!=n.get(g)||3!=n.get(k))return!1;n.delete(g);n.set(k,4);return!n.has(g)&&4==n.get(k)}catch(q){return!1}}function c(){}function d(g){var k=typeof g;return"object"===k&&null!==g||"function"===k}function e(g){if(!$jscomp.owns(g,h)){var k=new c;$jscomp.defineProperty(g,h,{value:k})}}function m(g){if(!$jscomp.ISOLATE_POLYFILLS){var k=Object[g];k&&(Object[g]=
function(n){if(n instanceof c)return n;Object.isExtensible(n)&&e(n);return k(n)})}}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(a&&$jscomp.ES6_CONFORMANCE)return a}else if(b())return a;var h="$jscomp_hidden_"+Math.random();m("freeze");m("preventExtensions");m("seal");var l=0,f=function(g){this.id_=(l+=Math.random()+1).toString();if(g){g=$jscomp.makeIterator(g);for(var k;!(k=g.next()).done;)k=k.value,this.set(k[0],k[1])}};f.prototype.set=function(g,k){if(!d(g))throw Error("Invalid WeakMap key");
e(g);if(!$jscomp.owns(g,h))throw Error("WeakMap key fail: "+g);g[h][this.id_]=k;return this};f.prototype.get=function(g){return d(g)&&$jscomp.owns(g,h)?g[h][this.id_]:void 0};f.prototype.has=function(g){return d(g)&&$jscomp.owns(g,h)&&$jscomp.owns(g[h],this.id_)};f.prototype.delete=function(g){return d(g)&&$jscomp.owns(g,h)&&$jscomp.owns(g[h],this.id_)?delete g[h][this.id_]:!1};return f},"es6","es3");$jscomp.MapEntry=function(){};
$jscomp.polyfill("Map",function(a){function b(){if($jscomp.ASSUME_NO_NATIVE_MAP||!a||"function"!=typeof a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var f=Object.seal({x:4}),g=new a($jscomp.makeIterator([[f,"s"]]));if("s"!=g.get(f)||1!=g.size||g.get({x:4})||g.set({x:4},"t")!=g||2!=g.size)return!1;var k=g.entries(),n=k.next();if(n.done||n.value[0]!=f||"s"!=n.value[1])return!1;n=k.next();return n.done||4!=n.value[0].x||"t"!=n.value[1]||!k.next().done?!1:!0}catch(q){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(a&&$jscomp.ES6_CONFORMANCE)return a}else if(b())return a;var c=new WeakMap,d=function(f){this.data_={};this.head_=h();this.size=0;if(f){f=$jscomp.makeIterator(f);for(var g;!(g=f.next()).done;)g=g.value,this.set(g[0],g[1])}};d.prototype.set=function(f,g){f=0===f?0:f;var k=e(this,f);k.list||(k.list=this.data_[k.id]=[]);k.entry?k.entry.value=g:(k.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:f,value:g},k.list.push(k.entry),
this.head_.previous.next=k.entry,this.head_.previous=k.entry,this.size++);return this};d.prototype.delete=function(f){f=e(this,f);return f.entry&&f.list?(f.list.splice(f.index,1),f.list.length||delete this.data_[f.id],f.entry.previous.next=f.entry.next,f.entry.next.previous=f.entry.previous,f.entry.head=null,this.size--,!0):!1};d.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=h();this.size=0};d.prototype.has=function(f){return!!e(this,f).entry};d.prototype.get=function(f){return(f=
e(this,f).entry)&&f.value};d.prototype.entries=function(){return m(this,function(f){return[f.key,f.value]})};d.prototype.keys=function(){return m(this,function(f){return f.key})};d.prototype.values=function(){return m(this,function(f){return f.value})};d.prototype.forEach=function(f,g){for(var k=this.entries(),n;!(n=k.next()).done;)n=n.value,f.call(g,n[1],n[0],this)};d.prototype[Symbol.iterator]=d.prototype.entries;var e=function(f,g){var k=g&&typeof g;"object"==k||"function"==k?c.has(g)?k=c.get(g):
(k=""+ ++l,c.set(g,k)):k="p_"+g;var n=f.data_[k];if(n&&$jscomp.owns(f.data_,k))for(f=0;f<n.length;f++){var q=n[f];if(g!==g&&q.key!==q.key||g===q.key)return{id:k,list:n,index:f,entry:q}}return{id:k,list:n,index:-1,entry:void 0}},m=function(f,g){var k=f.head_;return $jscomp.iteratorPrototype(function(){if(k){for(;k.head!=f.head_;)k=k.previous;for(;k.next!=k.head;)return k=k.next,{done:!1,value:g(k)};k=null}return{done:!0,value:void 0}})},h=function(){var f={};return f.previous=f.next=f.head=f},l=0;
return d},"es6","es3");$jscomp.findInternal=function(a,b,c){a instanceof String&&(a=String(a));for(var d=a.length,e=0;e<d;e++){var m=a[e];if(b.call(c,m,e,a))return{i:e,v:m}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(b,c){return $jscomp.findInternal(this,b,c).v}},"es6","es3");
$jscomp.checkStringArgs=function(a,b,c){if(null==a)throw new TypeError("The 'this' value for String.prototype."+c+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+c+" must not be a regular expression");return a+""};
$jscomp.polyfill("String.prototype.startsWith",function(a){return a?a:function(b,c){var d=$jscomp.checkStringArgs(this,b,"startsWith");b+="";var e=d.length,m=b.length;c=Math.max(0,Math.min(c|0,d.length));for(var h=0;h<m&&c<e;)if(d[c++]!=b[h++])return!1;return h>=m}},"es6","es3");$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(a){function b(){this.batch_=null}function c(h){return h instanceof e?h:new e(function(l,f){l(h)})}if(a&&!$jscomp.FORCE_POLYFILL_PROMISE)return a;b.prototype.asyncExecute=function(h){if(null==this.batch_){this.batch_=[];var l=this;this.asyncExecuteFunction(function(){l.executeBatch_()})}this.batch_.push(h)};var d=$jscomp.global.setTimeout;b.prototype.asyncExecuteFunction=function(h){d(h,0)};b.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var h=
this.batch_;this.batch_=[];for(var l=0;l<h.length;++l){var f=h[l];h[l]=null;try{f()}catch(g){this.asyncThrow_(g)}}}this.batch_=null};b.prototype.asyncThrow_=function(h){this.asyncExecuteFunction(function(){throw h;})};var e=function(h){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var l=this.createResolveAndReject_();try{h(l.resolve,l.reject)}catch(f){l.reject(f)}};e.prototype.createResolveAndReject_=function(){function h(g){return function(k){f||(f=!0,g.call(l,k))}}var l=this,f=!1;
return{resolve:h(this.resolveTo_),reject:h(this.reject_)}};e.prototype.resolveTo_=function(h){if(h===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(h instanceof e)this.settleSameAsPromise_(h);else{a:switch(typeof h){case "object":var l=null!=h;break a;case "function":l=!0;break a;default:l=!1}l?this.resolveToNonPromiseObj_(h):this.fulfill_(h)}};e.prototype.resolveToNonPromiseObj_=function(h){var l=void 0;try{l=h.then}catch(f){this.reject_(f);return}"function"==typeof l?
this.settleSameAsThenable_(l,h):this.fulfill_(h)};e.prototype.reject_=function(h){this.settle_(2,h)};e.prototype.fulfill_=function(h){this.settle_(1,h)};e.prototype.settle_=function(h,l){if(0!=this.state_)throw Error("Cannot settle("+h+", "+l+"): Promise already settled in state"+this.state_);this.state_=h;this.result_=l;this.executeOnSettledCallbacks_()};e.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var h=0;h<this.onSettledCallbacks_.length;++h)m.asyncExecute(this.onSettledCallbacks_[h]);
this.onSettledCallbacks_=null}};var m=new b;e.prototype.settleSameAsPromise_=function(h){var l=this.createResolveAndReject_();h.callWhenSettled_(l.resolve,l.reject)};e.prototype.settleSameAsThenable_=function(h,l){var f=this.createResolveAndReject_();try{h.call(l,f.resolve,f.reject)}catch(g){f.reject(g)}};e.prototype.then=function(h,l){function f(q,t){return"function"==typeof q?function(u){try{g(q(u))}catch(v){k(v)}}:t}var g,k,n=new e(function(q,t){g=q;k=t});this.callWhenSettled_(f(h,g),f(l,k));return n};
e.prototype.catch=function(h){return this.then(void 0,h)};e.prototype.callWhenSettled_=function(h,l){function f(){switch(g.state_){case 1:h(g.result_);break;case 2:l(g.result_);break;default:throw Error("Unexpected state: "+g.state_);}}var g=this;null==this.onSettledCallbacks_?m.asyncExecute(f):this.onSettledCallbacks_.push(f)};e.resolve=c;e.reject=function(h){return new e(function(l,f){f(h)})};e.race=function(h){return new e(function(l,f){for(var g=$jscomp.makeIterator(h),k=g.next();!k.done;k=g.next())c(k.value).callWhenSettled_(l,
f)})};e.all=function(h){var l=$jscomp.makeIterator(h),f=l.next();return f.done?c([]):new e(function(g,k){function n(u){return function(v){q[u]=v;t--;0==t&&g(q)}}var q=[],t=0;do q.push(void 0),t++,c(f.value).callWhenSettled_(n(q.length-1),k),f=l.next();while(!f.done)})};return e},"es6","es3");$jscomp.polyfill("Object.is",function(a){return a?a:function(b,c){return b===c?0!==b||1/b===1/c:b!==b&&c!==c}},"es6","es3");
$jscomp.polyfill("Array.prototype.includes",function(a){return a?a:function(b,c){var d=this;d instanceof String&&(d=String(d));var e=d.length;c=c||0;for(0>c&&(c=Math.max(c+e,0));c<e;c++){var m=d[c];if(m===b||Object.is(m,b))return!0}return!1}},"es7","es3");$jscomp.polyfill("String.prototype.includes",function(a){return a?a:function(b,c){return-1!==$jscomp.checkStringArgs(this,b,"includes").indexOf(b,c||0)}},"es6","es3");window.$fn=window.$fn||{};
window.$fn.Chart$openEditAlertDialog=function(a,b){a=a.params.id;TradingViewApi.alertService().showEditAlertDialog(a)};window.$fn.Chart$createAlertDialog=function(){TradingViewApi.showCreateAlertDialog()};var module$chart$alerts$alerts_methods={};window.$sub=window.$sub||{};window.$sub.Chart$observePushStream={sub:function(a,b){a=function(c){b(c)};TradingViewApi.alertService().subscribe(a);return a},unsub:function(a){TradingViewApi.alertService().unsubscribe(a)}};var module$chart$alerts$alerts_subs={};window.$fn=window.$fn||{};window.$fn.Chart$requestChartBufferData=function(a,b){a=TradingViewApi.getSymbolInterval();b({symbol:a.symbol,selectedInterval:a.interval,dateRanges:TradingViewApi.activeChart().ranges().state().ranges,chartType:TradingViewApi.activeChart().chartType(),layoutName:TradingViewApi.layoutName(),hasChanges:TradingViewApi.hasChartChanges().value()})};var module$chart$buffer$buffer_methods={};window.$fn=window.$fn||{};window.$fn.Chart$financials=function(){TradingViewApi.dialogs().Financials.show()};window.$fn.Chart$showChartSettings=function(){TradingViewApi.dialogs().ChartProperties.show()};window.$fn.Chart$showAlertManager=function(){TradingViewApi.dialogs().Alerts.show()};window.$fn.Chart$alertManagerVisibility=function(a,b){b(TradingViewApi.dialogs().Alerts.visible().value())};window.$fn.Chart$indicatorsVisibility=function(a,b){b(TradingViewApi.dialogs().Indicators.visible().value())};
window.$fn.Chart$closePopupsAndDialogs=function(){TradingViewApi.closePopupsAndDialogs()};window.$fn.Chart$indicatorsHide=function(){TradingViewApi.dialogs().Indicators.hide()};window.$fn.Chart$compareHide=function(){TradingViewApi.dialogs().Compare.hide()};window.$fn.Chart$compareVisibility=function(a,b){b(TradingViewApi.dialogs().Compare.visible().value())};window.$fn.Chart$financialsHide=function(){TradingViewApi.dialogs().Financials.hide()};window.$fn.Chart$alertManagerHide=function(){TradingViewApi.dialogs().Alerts.hide()};
window.$fn.Chart$financialsVisibility=function(a,b){b(TradingViewApi.dialogs().Financials.visible().value())};window.$fn.Chart$chartPropertiesHide=function(){TradingViewApi.dialogs().ChartProperties.hide()};window.$fn.Chart$objectsTreeHide=function(){TradingViewApi.dialogs().ObjectsTree.hide()};window.$fn.Chart$financialsChartsShow=function(){TradingViewApi.dialogs().FinancialsCharts.show()};window.$fn.Chart$financialsChartsHide=function(){TradingViewApi.dialogs().FinancialsCharts.hide()};
window.$fn.Chart$financialsChartsVisibility=function(a,b){b(TradingViewApi.dialogs().FinancialsCharts.visible().value())};window.$fn.Chart$symbolDetailHide=function(){TradingViewApi.dialogs().Details.hide()};window.$fn.Chart$symbolDetailVisibility=function(a,b){b(TradingViewApi.dialogs().Details.visible().value())};var module$chart$dialogs$dialogs_methods={};window.$fn=window.$fn||{};
window.$fn.Chart$getDrawingsData=function(a,b){a={isAllDrawingsLocked:TradingViewApi.lockAllDrawingTools().value(),selectedLineTool:TradingViewApi.selectedLineTool(),isMagnetModeActive:TradingViewApi.magnetEnabled().value(),magnetMode:TradingViewApi.magnetMode().value(),isAllIndicatorsHidden:TradingViewApi.hideAllIndicators().value(),isAllDrawingsHidden:TradingViewApi.hideAllDrawingTools().value(),canZoomOut:TradingViewApi.activeChart().canZoomOut(),isStayInDrawingModeActionActive:TradingViewApi.chart().getCheckableActionState("stayInDrawingModeAction")};b({drawingToolsInfo:a,
selectedLineTool:TradingViewApi.selectedLineTool(),favoriteDrawings:TradingViewApi.getLinetoolsFavoritesStore().favorites(),isFavoriteBarVisible:!1})};window.$fn.Chart$requestFavoriteBarVisibility=function(a,b){TradingViewApi.favoriteDrawingsToolbar().then(function(c){b(c.visible().value())})};window.$fn.Chart$isAllIndicatorsHidden=function(a,b){b(TradingViewApi.hideAllIndicators().value())};window.$fn.Chart$magnetEnabled=function(){TradingViewApi.magnetEnabled().setValue(!0)};
window.$fn.Chart$magnetDisabled=function(){TradingViewApi.magnetEnabled().setValue(!1)};window.$fn.Chart$magnetMode=function(a){TradingViewApi.magnetMode().setValue(a.params.mode)};window.$fn.Chart$getMagnetMode=function(a,b){b(TradingViewApi.magnetMode().value())};window.$fn.Chart$isStayInDrawingModeActionActive=function(a,b){b(TradingViewApi.chart().getCheckableActionState("stayInDrawingModeAction"))};window.$fn.Chart$isMagnetActive=function(a,b){b(TradingViewApi.magnetEnabled().value())};
window.$fn.Chart$showAllIndicators=function(){TradingViewApi.hideAllIndicators().setValue(!1)};window.$fn.Chart$hideAllIndicators=function(){TradingViewApi.hideAllIndicators().setValue(!0)};window.$fn.Chart$showAllDrawingTools=function(a){TradingViewApi.hideAllDrawingTools().setValue(!1)};window.$fn.Chart$hideDrawingsShowIndicators=function(a){TradingViewApi.hideAllDrawingTools().setValue(!0);TradingViewApi.hideAllIndicators().setValue(!1)};
window.$fn.Chart$hideIndicatorsShowDrawings=function(a){TradingViewApi.hideAllDrawingTools().setValue(!1);TradingViewApi.hideAllIndicators().setValue(!0)};window.$fn.Chart$hideDrawingAndIndicators=function(a){TradingViewApi.hideAllDrawingTools().setValue(!0);TradingViewApi.hideAllIndicators().setValue(!0)};window.$fn.Chart$showDrawingAndIndicators=function(a){TradingViewApi.hideAllDrawingTools().setValue(!1);TradingViewApi.hideAllIndicators().setValue(!1)};window.$fn.Chart$hideAllDrawingTools=function(a){TradingViewApi.hideAllDrawingTools().setValue(!0)};
window.$fn.Chart$isAllDrawingToolsHidden=function(a,b){b(TradingViewApi.hideAllDrawingTools().value())};window.$fn.Chart$isAllDrawingToolsLocked=function(a,b){b(TradingViewApi.lockAllDrawingTools().value())};window.$fn.Chart$unlockAllDrawingTools=function(a){TradingViewApi.lockAllDrawingTools().setValue(!1)};window.$fn.Chart$lockAllDrawingTools=function(a){TradingViewApi.lockAllDrawingTools().setValue(!0)};window.$fn.Chart$showFavoriteDrawingsToolbar=function(){TradingViewApi.favoriteDrawingsToolbar().then(function(a){return a.show()})};
window.$fn.Chart$hideFavoriteDrawingsToolbar=function(){TradingViewApi.favoriteDrawingsToolbar().then(function(a){return a.hide()})};window.$fn.Chart$isFavoriteDrawingsToolbarVisible=function(a,b){TradingViewApi.favoriteDrawingsToolbar().then(function(c){return b(c.visible().value())})};window.$fn.Chart$toggleStayInDrawingModeAction=function(a,b){TradingViewApi.activeChart().executeActionById("stayInDrawingModeAction");b(TradingViewApi.chart().getCheckableActionState("stayInDrawingModeAction"))};
window.$fn.Chart$canZoomOut=function(a,b){b(TradingViewApi.activeChart().canZoomOut())};window.$fn.Chart$zoomOut=function(a){TradingViewApi.activeChart().zoomOut()};var module$chart$drawings$drawings_methods={};window.$sub=window.$sub||{};window.$sub.Chart$onMagnetModeChanged={sub:function(a,b){a=function(){b({magnetMode:TradingViewApi.magnetMode().value(),isMagnetActive:TradingViewApi.magnetEnabled().value()})};TradingViewApi.magnetMode().subscribe(a);TradingViewApi.magnetEnabled().subscribe(a);return a},unsub:function(a){TradingViewApi.magnetMode().unsubscribe(a);TradingViewApi.magnetEnabled().unsubscribe(a)}};
window.$sub.Chart$onHideModeInfoChanged={sub:function(a,b){a=function(){b({isAllIndicatorsHidden:TradingViewApi.hideAllIndicators().value(),isAllDrawingsHidden:TradingViewApi.hideAllDrawingTools().value()})};TradingViewApi.hideAllIndicators().subscribe(a);TradingViewApi.hideAllDrawingTools().subscribe(a);return a},unsub:function(a){TradingViewApi.hideAllIndicators().unsubscribe(a);TradingViewApi.hideAllDrawingTools().unsubscribe(a)}};
window.$sub.Chart$onHideAllIndicatorsChanged={sub:function(a,b){TradingViewApi.hideAllIndicators().subscribe(b);return b},unsub:function(a){TradingViewApi.hideAllIndicators().unsubscribe(a)}};window.$sub.Chart$onHideAllDrawingsChanged={sub:function(a,b){TradingViewApi.hideAllDrawingTools().subscribe(b);return b},unsub:function(a){TradingViewApi.hideAllDrawingTools().unsubscribe(a)}};
window.$sub.Chart$onLockStatusChanged={sub:function(a,b){TradingViewApi.lockAllDrawingTools().subscribe(b);return b},unsub:function(a){TradingViewApi.lockAllDrawingTools().unsubscribe(a)}};window.$sub.Chart$subscribeOnFavoriteDrawingsToolbarVisibilityChange={sub:function(a,b){TradingViewApi.favoriteDrawingsToolbar().then(function(c){return c.visible().subscribe(b)});return b},unsub:function(a){TradingViewApi.favoriteDrawingsToolbar().then(function(b){return b.visible().unsubscribe(a)})}};
var module$chart$drawings$drawings_subs={};window.$fn=window.$fn||{};window.$fn.Chart$requestSelectedLayoutName=function(a,b){a=TradingViewApi.layout();b(a)};window.$fn.Chart$setLayout=function(a){TradingViewApi.setLayout(a.params.layout,a.params.options)};window.$fn.Chart$requestLayoutInfo=function(a,b){b({chartsCount:TradingViewApi.chartsCount(),viewMode:TradingViewApi.viewMode()})};var module$chart$layout$layout_methods={};window.$sub=window.$sub||{};window.$sub.Chart$onLayoutChanged={sub:function(a,b){TradingViewApi.subscribe("layout_changed",function(){var c=TradingViewApi.layout();b(c)});return b},unsub:function(a){TradingViewApi.unsubscribe("layout_changed",a)}};window.$sub.Chart$subscribeOnViewModeChanged={sub:function(a,b){a=function(c){b({viewMode:c,chartsCount:TradingViewApi.chartsCount()})};TradingViewApi.viewModeWatchedValue().subscribe(a);return a},unsub:function(a){TradingViewApi.viewModeWatchedValue().unsubscribe(a)}};
var module$chart$layout$layout_subs={};window.$fn=window.$fn||{};window.$fn.Chart$syncSymbol=function(a){TradingViewApi.symbolSync().setValue(a.params.isSyncEnabled)};window.$fn.Chart$syncInterval=function(a){TradingViewApi.intervalSync().setValue(a.params.isSyncEnabled)};window.$fn.Chart$syncCrosshair=function(a){TradingViewApi.crosshairSync().setValue(a.params.isSyncEnabled)};window.$fn.Chart$syncTime=function(a){TradingViewApi.timeSync().setValue(a.params.isSyncEnabled)};window.$fn.Chart$syncDateRange=function(a){TradingViewApi.dateRangeSync().setValue(a.params.isSyncEnabled)};
window.$fn.Chart$syncSymbolStatus=function(a,b){b(TradingViewApi.symbolSync().value())};window.$fn.Chart$syncIntervalStatus=function(a,b){b(TradingViewApi.intervalSync().value())};window.$fn.Chart$syncCrosshairStatus=function(a,b){b(TradingViewApi.crosshairSync().value())};window.$fn.Chart$syncTimeStatus=function(a,b){b(TradingViewApi.timeSync().value())};window.$fn.Chart$syncDateRangeStatus=function(a,b){b(TradingViewApi.dateRangeSync().value())};window.$fn=window.$fn||{};window.$fn.Chart$showReplayToolbar=function(){TradingViewApi.replayApi().then(function(a){return a.showReplayToolbar()})};window.$fn.Chart$hideReplayToolbar=function(){TradingViewApi.replayApi().then(function(a){return a.hideReplayToolbar()})};window.$fn.Chart$requestBarReplayActiveState=function(a,b){TradingViewApi.replayApi().then(function(c){b(c.isReplayToolbarVisible().value())})};var module$chart$replays$replays_methods={};window.$sub=window.$sub||{};window.$sub.Chart$subscribeOnReplayToolbarVisible={sub:function(a,b){TradingViewApi.replayApi().then(function(c){c.isReplayToolbarVisible().subscribe(b)});return b},unsub:function(a){TradingViewApi.replayApi().then(function(b){b.isReplayToolbarVisible().unsubscribe(a)})}};var module$chart$replays$replays_subs={};window.$fn=window.$fn||{};function isTradingConnected$$module$chart$trading$trading_methods(){return 1==TradingViewApi.trading().connectStatus()}window.$fn.Chart$isTradingEnabled=function(a,b){b(TradingView.isFeatureEnabled("mobile_trading_android"))};window.$fn.Chart$waitTrading=function(a,b){TradingViewApi.waitTrading().then(function(c){b()})};
window.$fn.Chart$isBrokerFilterEnabled=function(a,b){a=!1;void 0!=user.settings&&user.settings["symboledit.tradable"]&&(a=user.settings["symboledit.tradable"]);b(a)};window.$fn.Chart$requestBrokerData=function(a,b){isTradingConnected$$module$chart$trading$trading_methods()?(a=TradingViewApi.trading().activeBroker(),null==a||void 0==a?b(null):b({broker:a.metainfo(),hiddenSymbols:a.unhideSymbolSearchGroups()})):b(null)};window.$fn.Chart$brokerConnectionStatus=function(a,b){b(TradingViewApi.trading().connectStatus())};
var module$chart$trading$trading_methods={};window.$sub=window.$sub||{};window.$sub.Chart$onBrokerConnectionStatus={sub:function(a,b){TradingViewApi.trading().onConnectionStatusChange.subscribe(null,b);return b},unsub:function(a){TradingViewApi.trading().onConnectionStatusChange.unsubscribe(null,a)}};var module$chart$trading$trading_subs={};window.$fn=window.$fn||{};window.$fn.Chart$fetchChartType=function(a,b){b(TradingViewApi.activeChart().chartType())};window.$fn.Chart$changeChartType=function(a){TradingViewApi.activeChart().setChartType(parseInt(a.params.chartType))};window.$fn.Chart$addChartTypeToFavorites=function(a,b){b=TradingViewApi.getFavoriteChartStylesService().get();b.push(a.params.chartType);b=b.filter(function(c,d,e){return e.indexOf(c)==d});TradingViewApi.getFavoriteChartStylesService().set(b)};
window.$fn.Chart$removeChartTypeFromFavorites=function(a,b){b=TradingViewApi.getFavoriteChartStylesService().get();b=b.filter(function(c,d,e){return e.indexOf(c)==d});b=b.filter(function(c,d,e){return c!=a.params.chartType});TradingViewApi.getFavoriteChartStylesService().set(b)};window.$fn.Chart$getFavoriteChartTypes=function(a,b){a=TradingViewApi.getFavoriteChartStylesService().get();b(a)};var module$chart$types$chart_types_methods={};window.$sub=window.$sub||{};window.$sub.Chart$onChartTypeChanged={sub:function(a,b){TradingViewApi.activeChart().onChartTypeChanged().subscribe("chart_type_changed",b);return b},unsub:function(a){TradingViewApi.activeChart().onChartTypeChanged().unsubscribe("chart_type_changed",a)}};
window.$sub.Chart$onFavoriteChartStylesChanged={sub:function(a,b){a=function(c){c=TradingViewApi.getFavoriteChartStylesService().get();b(c)};TradingViewApi.getFavoriteChartStylesService().getOnChange().subscribe(null,a);return a},unsub:function(a){TradingViewApi.getFavoriteChartStylesService().getOnChange().unsubscribe(null,a)}};var module$chart$types$chart_types_subs={};var Logger$$module$core$logger=function(){this._level="none";this._port=void 0};Logger$$module$core$logger.prototype.setPort=function(a){this._port=a};Logger$$module$core$logger.prototype.setLevel=function(a){this._level=a};Logger$$module$core$logger.prototype.d=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];0==this._getLevel()&&console.debug.apply(console,$jscomp.arrayFromIterable(b))};
Logger$$module$core$logger.prototype.w=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];1>=this._getLevel()&&console.warning.apply(console,$jscomp.arrayFromIterable(b))};Logger$$module$core$logger.prototype.e=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];2>=this._getLevel()&&console.error.apply(console,$jscomp.arrayFromIterable(b))};
Logger$$module$core$logger.prototype.fatalError=function(a,b){this.e(a);void 0===b&&(b={uuid:""});b.hasOwnProperty("message")||(b.message=a);this._port.postMessage(JSON.stringify({messageType:"Message::FatalError",data:b}))};Logger$$module$core$logger.prototype._getLevel=function(){switch(this._level){case "debug":return 0;case "warning":return 1;case "error":return 2}return 3};var logger$$module$core$logger=new Logger$$module$core$logger,module$core$logger={};module$core$logger.default=Logger$$module$core$logger;
module$core$logger.logger=logger$$module$core$logger;var FunctionManager$$module$core$function_manager=function(a){this.functions=[];this.port=a;this.subscriptions=new Map};FunctionManager$$module$core$function_manager.prototype.registerFunction=function(a,b){this.hasDuplicates(a)?logger$$module$core$logger.e("Function:"+a+" already registered"):this.functions.push({name:a,functionRef:b})};
FunctionManager$$module$core$function_manager.prototype.registerSubscription=function(a,b,c){this.hasDuplicates(a)?logger$$module$core$logger.e("Subscription:"+a+" already registered"):this.functions.push({name:a,subscribe:b,unsubscribe:c})};
FunctionManager$$module$core$function_manager.prototype.call=function(a){var b=this,c=this.functions.find(function(d){return d.name===a.fn});if(void 0===c)logger$$module$core$logger.fatalError(a.fn+" is not found",a);else try{c.functionRef(a,function(d){b.port.postMessage(JSON.stringify({messageType:"Message::FunctionResult",data:{fn:a.fn,uuid:a.uuid,result:d}}))})}catch(d){logger$$module$core$logger.fatalError(d.message||d,a)}};
FunctionManager$$module$core$function_manager.prototype.subscribe=function(a){var b=this,c=this.functions.find(function(m){return m.name===a.fn});if(void 0===c)logger$$module$core$logger.fatalError(a.fn+" is not found",a);else{var d=function(m){logger$$module$core$logger.d("subscription result",m);b.port.postMessage(JSON.stringify({messageType:"Message::SubscriptionResult",data:{fn:a.fn,uuid:a.uuid,result:m}}))};try{var e=c.subscribe(a,d);this.subscriptions.set(a.uuid+a.fn,e)}catch(m){logger$$module$core$logger.fatalError(m.message||
m,a)}}};
FunctionManager$$module$core$function_manager.prototype.unsubscribe=function(a){var b=this.functions.find(function(e){return e.name===a.fn});if(void 0===b)logger$$module$core$logger.fatalError("Function:"+a.fn+" is not found",a);else{var c=a.uuid+a.fn,d=this.subscriptions.get(c);void 0===d?logger$$module$core$logger.fatalError("Subscriber:"+a.fn+" with uuid:"+a.uuid+" is not found",a):(b.unsubscribe(d),this.subscriptions.delete(c),this.port.postMessage(JSON.stringify({messageType:"Message::SubscriptionCancellationResult",data:{fn:a.fn,
uuid:a.uuid}})))}};FunctionManager$$module$core$function_manager.prototype.hasDuplicates=function(a){return void 0!==this.functions.find(function(b){return b.name===a})};var module$core$function_manager={};module$core$function_manager.default=FunctionManager$$module$core$function_manager;var init$$module$core$init=function(){logger$$module$core$logger.setLevel("warning");window.onmessage=function(a){var b="warning";if(!a.data)logger$$module$core$logger.e("Connection message is not valid");else if(a.data.startsWith("{")||a.data.startsWith("["))if(b=JSON.parse(a.data),"Message::Connection"!==b.messageType)logger$$module$core$logger.e("Connection message is not valid");else{b=b.data.logLevel;logger$$module$core$logger.setLevel(b);logger$$module$core$logger.d("Received connection message",
a);a=a.ports[0];logger$$module$core$logger.setPort(a);var c=new FunctionManager$$module$core$function_manager(a);registerMethods$$module$core$init(c);logger$$module$core$logger.d("Connection has been established");a.onmessage=function(d){d=JSON.parse(d.data);d.data.fn&&logger$$module$core$logger.d("function",d.messageType,d.data.fn);logger$$module$core$logger.d("data",JSON.stringify(d.data));switch(d.messageType){case "Message::Function":c.call(d.data);break;case "Message::Subscription":c.subscribe(d.data);
break;case "Message::SubscriptionCancellation":c.unsubscribe(d.data)}}}}};
function registerMethods$$module$core$init(a,b){var c=window.config,d=window.$sub,e=window.$fn;c.subscriptions.forEach(function(m){var h=d[m.bridgeName];void 0==h&&b.throwFatalError("Subscription "+m.bridgeName+" is not found");a.registerSubscription(m.bridgeName,function(l,f){var g=h.sub;return g(l,f)},function(l){var f=h.unsub;f(l)})});c.methods.forEach(function(m){var h=e[m.bridgeName];void 0==h&&logger$$module$core$logger.fatalError("Method "+m.bridgeName+" is not found");a.registerFunction(m.bridgeName,
function(l,f){h(l,f)})})}var module$core$init={init:init$$module$core$init};var PUBLICATION_STATE_CLOSED$$module$chart$dialog_manager="1",DialogManager$$module$chart$dialog_manager=function(){};DialogManager$$module$chart$dialog_manager.prototype.onPublicationClicked=function(a){var b=this;void 0==this.dialogInstance?TradingViewApi.publishChart({onWidget:!0,silentPhoneVerification:!0,publishSource:"android",onPublishUrl:function(c,d){},onPublishError:function(c){b.dialogInstance=void 0}}).then(function(c){b.dialogInstance=c;a()}):(this.dialogInstance.open(),a())};
DialogManager$$module$chart$dialog_manager.prototype.isVisible=function(){return void 0!=this.dialogInstance?0==this.dialogInstance.watchedState.value():!1};DialogManager$$module$chart$dialog_manager.prototype.hide=function(){void 0!=this.dialogInstance&&this.dialogInstance.minimize()};DialogManager$$module$chart$dialog_manager.prototype.getCurrentState=function(){return void 0!=this.dialogInstance?this.dialogInstance.watchedState.value():PUBLICATION_STATE_CLOSED$$module$chart$dialog_manager};
var module$chart$dialog_manager={};module$chart$dialog_manager.default=DialogManager$$module$chart$dialog_manager;var SUCCESS$$module$chart$intervals_errors_code_constants=0,PERMISSION_EXCEPTION$$module$chart$intervals_errors_code_constants=1,NON_VALID_INTERVAL_EXCEPTION$$module$chart$intervals_errors_code_constants=2,INTERVAL_ALREADY_EXIST_EXCEPTION$$module$chart$intervals_errors_code_constants=3,VALUE_SHOULD_NOT_BE_EMPTY$$module$chart$intervals_errors_code_constants=4,module$chart$intervals_errors_code_constants={INTERVAL_ALREADY_EXIST_EXCEPTION:INTERVAL_ALREADY_EXIST_EXCEPTION$$module$chart$intervals_errors_code_constants,
NON_VALID_INTERVAL_EXCEPTION:NON_VALID_INTERVAL_EXCEPTION$$module$chart$intervals_errors_code_constants,PERMISSION_EXCEPTION:PERMISSION_EXCEPTION$$module$chart$intervals_errors_code_constants,SUCCESS:SUCCESS$$module$chart$intervals_errors_code_constants,VALUE_SHOULD_NOT_BE_EMPTY:VALUE_SHOULD_NOT_BE_EMPTY$$module$chart$intervals_errors_code_constants};var dialogManager$$module$chart$chart_methods=new DialogManager$$module$chart$dialog_manager;window.$fn=window.$fn||{};
window.$fn.Chart$requestTradingLogs=function(a,b){var c=TradingViewApi.trading();console.log(c,c.connectStatus());if(null!=c){var d=JSON.stringify(c.brokersList());null!=c.activeBroker()&&void 0!=c.activeBroker()?c.activeBroker().bugReportInfo().then(function(e){var m={isConnected:c.activeBroker().isConnected(),id:c.activeBroker().metainfo().id};b({activeBroker:JSON.stringify(m),bugReportInfo:JSON.stringify(e),brokersList:d})}):b({activeBroker:JSON.stringify({isConnected:"undefined",brokerId:"undefined"}),
brokersList:d})}else b(null)};function tradingConnected$$module$chart$chart_methods(){return 1==TradingViewApi.trading().connectStatus()}window.$fn.Chart$selectSymbol=function(a){TradingViewApi.activeChart().setSymbol(a.params.symbolName)};window.$fn.Chart$requestSelectedLineTool=function(a,b){b(TradingViewApi.selectedLineTool())};window.$fn.Chart$checkBrokerConnectionStatus=function(a,b){b(TradingViewApi.trading().connectStatus())};
window.$fn.Chart$getSelectedInterval=function(a,b){a=TradingViewApi.activeChart().resolution();b(a)};window.$fn.Chart$selectInterval=function(a,b){var c=a.params.interval;TradingViewApi.activeChart().setResolution(a.params.interval,function(){var d=TradingViewApi.activeChart().resolution();b(c==d)})};window.$fn.Chart$isValidInterval=function(a,b){a=TradingViewApi.intervalsService().isValidInterval(a.params.intervalData.value,a.params.intervalData.metric);b(a)};
window.$fn.Chart$removeCustomInterval=function(a){TradingViewApi.intervalsService().remove(a.params.interval)};
window.$fn.Chart$addCustomInterval=function(a,b){var c=!1,d=TradingViewApi.intervalsService().add(a.params.intervalData.value,a.params.intervalData.metric,function(){c=!0});a=TradingViewApi.intervalsService().isValidInterval(a.params.intervalData.value,a.params.intervalData.metric);var e=NON_VALID_INTERVAL_EXCEPTION$$module$chart$intervals_errors_code_constants;e=d?SUCCESS$$module$chart$intervals_errors_code_constants:c?PERMISSION_EXCEPTION$$module$chart$intervals_errors_code_constants:a?INTERVAL_ALREADY_EXIST_EXCEPTION$$module$chart$intervals_errors_code_constants:
NON_VALID_INTERVAL_EXCEPTION$$module$chart$intervals_errors_code_constants;b({interval:d,status:e})};window.$fn.Chart$addChartTypeToFavorites=function(a,b){b=TradingViewApi.getFavoriteChartStylesService().get();b.push(a.params.chartType);b=b.filter(function(c,d,e){return e.indexOf(c)==d});TradingViewApi.getFavoriteChartStylesService().set(b,{forceFlush:!0})};
window.$fn.Chart$removeChartTypeFromFavorites=function(a,b){b=TradingViewApi.getFavoriteChartStylesService().get();b=b.filter(function(c,d,e){return e.indexOf(c)==d});b=b.filter(function(c,d,e){return c!=a.params.chartType});TradingViewApi.getFavoriteChartStylesService().set(b,{forceFlush:!0})};window.$fn.Chart$getFavoriteChartTypes=function(a,b){a=TradingViewApi.getFavoriteChartStylesService().get();b(a)};
window.$fn.Chart$addIntervalToFavorites=function(a,b){b=TradingViewApi.getFavoriteIntervalsService().get();b.push(a.params.interval);b=b.filter(function(c,d,e){return e.indexOf(c)==d});TradingViewApi.getFavoriteIntervalsService().set(b,{forceFlush:!0})};window.$fn.Chart$removeIntervalFromFavorites=function(a,b){b=TradingViewApi.getFavoriteIntervalsService().get().filter(function(c,d,e){return c!=a.params.interval});TradingViewApi.getFavoriteIntervalsService().set(b,{forceFlush:!0})};
window.$fn.Chart$getFavoriteIntervals=function(a,b){a=TradingViewApi.getFavoriteIntervalsService().get().filter(function(c){return TradingViewApi.intervalsService().isSupportedInterval(c)});b(a)};
window.$fn.Chart$getIntervals=function(a,b){a=TradingViewApi.getIntervals().filter(function(m){return TradingViewApi.intervalsService().isSupportedInterval(m)});var c=TradingViewApi.getFavoriteIntervalsService().get(),d=TradingViewApi.activeChart().resolution(),e=TradingViewApi.intervalsService().getCustomIntervals();a&&0<a.length?b({success:!0,successResult:{activeIntervals:a,favoriteIntervals:c,customIntervals:e,currentInterval:d}}):b({success:!1})};
window.$fn.Chart$getCustomIntervals=function(a,b){a=TradingViewApi.intervalsService().getCustomIntervals();b(a)};window.$fn.Chart$getDefaultIntervals=function(a,b){a=TradingViewApi.intervalsService().getDefaultIntervals();b(a)};window.$fn.Chart$goToTime=function(a){TradingViewApi.activeChart().ranges().goToTime(a.params.time)};window.$fn.Chart$selectLineTool=function(a){TradingViewApi.selectLineTool(a.params.lineTool)};window.$fn.Chart$startFullscreen=function(){TradingViewApi.startFullscreen()};
window.$fn.Chart$exitFullscreen=function(){TradingViewApi.exitFullscreen()};window.$fn.Chart$takeScreenshot=function(a,b){TradingViewApi.takeScreenshot().then(function(c){return b(c)})};window.$fn.Chart$getFavoriteLinetools=function(a,b){b(TradingViewApi.getLinetoolsFavoritesStore().favorites())};window.$fn.Chart$addFavoriteLineTool=function(a){TradingViewApi.getLinetoolsFavoritesStore().addFavorite(a.params.lineTool,{forceFlush:!0})};
window.$fn.Chart$removeFavoriteLineTool=function(a){TradingViewApi.getLinetoolsFavoritesStore().removeFavorite(a.params.lineTool,{forceFlush:!0})};window.$fn.Chart$selectRange=function(a){TradingViewApi.activeChart().ranges().selectRange(a.params.range)};window.$fn.Chart$publishChart=function(a,b){dialogManager$$module$chart$chart_methods.onPublicationClicked(b)};window.$fn.Chart$templates=function(){TradingViewApi.studyTemplatesDrawerApi().then(function(a){return a.show()})};
window.$fn.Chart$symbolDetail=function(){TradingViewApi.dialogs().Details.show()};window.$fn.Chart$dispatchVisibilityChange=function(){document.dispatchEvent(new Event("visibilitychange"))};window.$fn.Chart$rejectSymbolSearch=function(){postMessage({result:"get-symbol-rejected"},window.location.href)};window.$fn.Chart$submitSearchSymbol=function(a){postMessage({result:"get-symbol-accepted",symbol:a.params.symbol},window.location.href)};
window.$fn.Chart$setChartTheme=function(a,b){TradingViewApi.themes().setStdTheme(a.params.theme,!1).then(function(){a.params.needSaveChart&&TradingViewApi.saveChartOrShowTitleDialog()}).catch(console.error)};window.$fn.Chart$setLayoutTheme=function(a,b){TradingViewApi.themes().setStdThemeForLayout(a.params.theme,!1)};window.$fn.Chart$isStandardTheme=function(a,b){TradingViewApi.themes().isStdTheme().then(function(c){return b(c)}).catch(function(c){throw c;})};
window.$fn.Chart$setPhoneVerificationSuccessful=function(){window.user.has_phone=!0};window.$fn.Chart$fetchSupportTicketData=function(a,b){var c=TradingViewApi.supportTicketData();c.addData({screenshotAgree:a.params.screenshotAgree});c.getFinalData().then(function(d){b(d);c.reset()})};window.$fn.Chart$saveChartOrShowTitleDialog=function(a,b){TradingViewApi.saveChartOrShowTitleDialog(function(){},function(){b(!0)},function(){b(!1)})};window.$fn.Chart$showRenameChartDialog=function(){TradingViewApi.showRenameChartDialog()};
window.$fn.Chart$showLoadChartDialog=function(){TradingViewApi.showLoadChartDialog()};window.$fn.Chart$showSaveAsChartDialog=function(){TradingViewApi.showSaveAsChartDialog()};window.$fn.Chart$closeChartPicker=function(){TradingViewApi.closeMobileChartPicker()};window.$fn.Chart$changeInterval=function(a){TradingViewApi.activeChart().setResolution(a.params.interval)};window.$fn.Chart$executeActionById=function(a){TradingViewApi.activeChart().executeActionById(a.params.actionId)};
window.$fn.Chart$setForceFullscreenMode=function(){TradingViewApi.setForceFullscreenMode()};window.$fn.Chart$setMultichartMode=function(){TradingViewApi.setMultichartMode()};window.$fn.Chart$showDateRangeDialog=function(){TradingViewApi.activeChart().ranges().drawer().then(function(a){return a.open()})};window.$fn.Chart$tradingPanelPopupVisible=function(a,b){b(TradingViewApi.trading().tradingPanelPopup.visible().value())};window.$fn.Chart$tradingPanelPopupShow=function(){TradingViewApi.trading().tradingPanelPopup.show()};
window.$fn.Chart$tradingPanelPopupHide=function(){TradingViewApi.trading().tradingPanelPopup.hide()};window.$fn.Chart$takeClientScreenshot=function(a,b){TradingViewApi.takeClientScreenshot().then(function(c){return b(c.toDataURL(a.params.mimeType,1))})};
window.$fn.Chart$setSymbolSearchUi=function(a,b){TradingViewApi.setSymbolSearchUI({getSymbol:function(){console.log("Requested symbol");return new Promise(function(c,d){console.log("Show symbol search");window.symbolSearchUi?window.symbolSearchUi():(console.warn("window.symbolSearchUi is undefined"),d());onmessage=function(e){e&&e.data.hasOwnProperty("result")&&("get-symbol-accepted"===e.data.result&&e.data.hasOwnProperty("symbol")?(console.log("Symbol resolved"),c({symbol:e.data.symbol})):"get-symbol-rejected"===
e.data.result&&(console.log("Symbol rejected"),d()))}})}});b()};window.$fn.Chart$tradingPanelPopupHide=function(){null!=TradingViewApi.trading()&&TradingViewApi.trading().tradingPanelPopup.hide()};window.$fn.Chart$closeMobileChartPicker=function(){TradingViewApi.closeMobileChartPicker()};window.$fn.Chart$rangesDrawerClose=function(){TradingViewApi.activeChart().ranges().drawer().then(function(a){return a.close()})};window.$fn.Chart$invocationsHide=function(){TradingViewApi.alertService().getAlertDialogInvocations().value().forEach(function(a){return a.abort()})};
window.$fn.Chart$invocationsVisibility=function(a,b){b(0<TradingViewApi.alertService().getAlertDialogInvocations().value().size)};window.$fn.Chart$templatesDrawerVisibility=function(a,b){TradingViewApi.studyTemplatesDrawerApi().then(function(c){return b(c.visible().value())})};window.$fn.Chart$rangesDrawerVisibility=function(a,b){TradingViewApi.activeChart().ranges().drawer().then(function(c){return b(c.isOpened().value())})};window.$fn.Chart$templatesDrawerHide=function(){TradingViewApi.studyTemplatesDrawerApi().then(function(a){return a.hide()})};
window.$fn.Chart$publicationDialogHide=function(){dialogManager$$module$chart$chart_methods.hide()};window.$fn.Chart$publicationDialogVisibility=function(a,b){b(dialogManager$$module$chart$chart_methods.isVisible())};window.$fn.Chart$replayToolbarVisibility=function(a,b){TradingViewApi.replayApi().then(function(c){b(c.isReplayToolbarVisible().value())})};window.$fn.Chart$publicationDialogState=function(a,b){b(dialogManager$$module$chart$chart_methods.getCurrentState())};
window.$fn.Chart$getActiveChartId=function(a,b){b(TradingViewApi.activeChart().id())};var module$chart$chart_methods={dialogManager:dialogManager$$module$chart$chart_methods};window.$sub=window.$sub||{};var PUBLICATION_STATE_OPENED$$module$chart$chart_subs="0";window.$sub.Chart$onReady={sub:function(a,b){TradingViewApi.subscribe("onChartReady",b);return b},unsub:function(a){TradingViewApi.unsubscribe("onChartReady",a)}};
window.$sub.Chart$onFavoriteIntervalsChanged={sub:function(a,b){a=function(c){var d=TradingViewApi.getIntervals().filter(function(e){return TradingViewApi.intervalsService().isSupportedInterval(e)});c=TradingViewApi.getFavoriteIntervalsService().get().filter(function(e){return TradingViewApi.intervalsService().isSupportedInterval(e)}).filter(function(e){return d.includes(e)});b(c)};TradingViewApi.getFavoriteIntervalsService().getOnChange().subscribe(null,a);return a},unsub:function(a){TradingViewApi.getFavoriteIntervalsService().getOnChange().unsubscribe(null,
a)}};window.$sub.Chart$onCustomIntervalChanged={sub:function(a,b){TradingViewApi.intervalsService().getOnChange().subscribe(null,b);return b},unsub:function(a){TradingViewApi.intervalsService().getOnChange().unsubscribe(null,a)}};window.$sub.Chart$onSymbolSearchRequest={sub:function(a,b){return window.symbolSearchUi=b},unsub:function(a){delete window.symbolSearchUi}};
window.$sub.Chart$onSelectedLineToolChanged={sub:function(a,b){a=function(){b(TradingViewApi.selectedLineTool())};TradingViewApi.subscribe("onSelectedLineToolChanged",a);return a},unsub:function(a){TradingViewApi.unsubscribe("onSelectedLineToolChanged",a)}};window.$sub.Chart$onAuthRequest={sub:function(a,b){TradingViewApi.loginRequired().subscribe(null,b);return b},unsub:function(a){TradingViewApi.loginRequired().unsubscribe(null,a)}};
window.$sub.Chart$onScreenshotReady={sub:function(a,b){a=function(c){console.log(c);b(c)};TradingViewApi.subscribe("onScreenshotReady",a);return a},unsub:function(a){TradingViewApi.unsubscribe("onScreenshotReady",a)}};window.$sub.Chart$onGoProDialog={sub:function(a,b){TradingViewApi.onGoProDialog(b,a.params.hiddenFeaturesArray.supportedFeatures);return b},unsub:function(a){TradingViewApi.onGoProDialog(null)}};
window.$sub.Chart$onFavoriteLineToolsChanged={sub:function(a,b){a=function(c){b(TradingViewApi.getLinetoolsFavoritesStore().favorites())};TradingViewApi.getLinetoolsFavoritesStore().favoriteAdded.subscribe(null,a);TradingViewApi.getLinetoolsFavoritesStore().favoriteRemoved.subscribe(null,a);return a},unsub:function(a){TradingViewApi.getLinetoolsFavoritesStore().favoriteAdded.unsubscribe(null,a);TradingViewApi.getLinetoolsFavoritesStore().favoriteRemoved.unsubscribe(null,a)}};
window.$sub.Chart$onPublishChartResult={sub:function(a,b){TradingViewApi.setPublishChartOptions({silentPhoneVerification:!0,onPublishUrl:function(c,d){b({success:{url:c,uuid:d}})},onPublishError:function(c){b({error:c})}});return null},unsub:function(a){TradingViewApi.setPublishChartOptions(null)}};
window.$sub.Chart$onRangesChanged={sub:function(a,b){a=function(c){b(c.ranges)};TradingViewApi.activeChart().ranges().onChange().subscribe(null,a);return a},unsub:function(a){TradingViewApi.activeChart().ranges().onChange().unsubscribe(null,a)}};window.$sub.Chart$onAlertRunning={sub:function(a,b){a=function(c){"alert"==c.source&&c.hasOwnProperty("data")&&"alert_running"==c.data.m&&c.data.hasOwnProperty("p")&&1==c.data.p.push&&b()};TradingViewApi.alertService().subscribe(a);return a},unsub:function(a){TradingViewApi.alertService().unsubscribe(a)}};
window.$sub.Chart$subscribeOnSymbolChanged={sub:function(a,b){a=function(c){b(c.name)};TradingViewApi.activeChart().onSymbolChanged().subscribe(null,a);return a},unsub:function(a){TradingViewApi.activeChart().onSymbolChanged().unsubscribe(null,a)}};window.$sub.Chart$subscribeOnIntervalChanged={sub:function(a,b){a=function(c,d){b(c)};TradingViewApi.activeChart().onIntervalChanged().subscribe(null,a);return a},unsub:function(a){TradingViewApi.activeChart().onIntervalChanged().unsubscribe(null,a)}};
window.$sub.Chart$subscribeOnHasChartChanges={sub:function(a,b){TradingViewApi.hasChartChanges().subscribe(b);return b},unsub:function(a){TradingViewApi.hasChartChanges().unsubscribe(a)}};window.$sub.Chart$subscribeOnUndoRedoStateChanged={sub:function(a,b){TradingViewApi.subscribe("undo_redo_state_changed",b);return b},unsub:function(a){TradingViewApi.unsubscribe("undo_redo_state_changed",a)}};
window.$sub.Chart$subscribeOnActiveChartChanged={sub:function(a,b){TradingViewApi.onActiveChartChanged().subscribe("activeChartChanged",b);return b},unsub:function(a){TradingViewApi.onActiveChartChanged().unsubscribe("activeChartChanged",a)}};window.$sub.Chart$subscribeOnChartNameIsChanged={sub:function(a,b){TradingViewApi.layoutNameWatchedValue().subscribe(b);return b},unsub:function(a){TradingViewApi.layoutNameWatchedValue().unsubscribe(callback)}};
window.$sub.Chart$subscribeOnPublicationState={sub:function(a,b){dialogManager$$module$chart$chart_methods.dialogInstance.watchedState.subscribe(b);b(PUBLICATION_STATE_OPENED$$module$chart$chart_subs);return b},unsub:function(a){dialogManager$$module$chart$chart_methods.dialogInstance.watchedState.unsubscribe(a)}};var module$chart$chart_subs={};var _notImplemented$$module$common$common=function(){console.error("Not implemented")},MessageType$$module$common$common={ERROR:"MessageType::Error",CONNECTION_MESSAGE:"MessageType::Connection",CHART_OUTPUT_MESSAGING:"MessageType::ChartOutputMessaging",CHART_INPUT_MESSAGING:"MessageType::ChartInputMessaging",CHART_THEME_INPUT_MESSAGING:"MessageType::ChartThemeInputMessaging",CHART_TOOLBAR_INPUT_MESSAGING:"MessageType::ChartToolBarInputMessaging",SOCIAL_USER_OUTPUT:"MessageType::SocialUserResultOutput",
SOCIAL_USER_INPUT:"MessageType::SocialUserResultInput",CHART_CHECK_CONNECTION:"MessageType::ChartCheckConnection",SUPPORT_OUTPUT_MESSAGING:"MessageType::SupportOutputMessaging",SUPPORT_INPUT_MESSAGING:"MessageType::SupportInputMessaging",APPLE_AUTH_OUTPUT_MESSAGING:"MessageType::AppleAuthInputMessaging",SOCIAL_NETWORK_SELECTED:"MessageType::SocialNetworkSelected"},MessageMethod$$module$common$common={ESTABLISH:"Method::Establish",CLOSE:"Method::Close",ON_APPLY_AUTH_RESPONSE_JSON:"onApplyAuthResponseJson",
ON_SOCIAL_NETWORK_SELECTED_MESSAGE:"onSocialNetworkSelectedMessage"},getEstablishConnectionMessageOrNull$$module$common$common=function(a){console.log(a);return a&&a.data&&"object"!==typeof a.data&&(a=JSON.parse(a.data),a.hasOwnProperty("type")&&a.type==MessageType$$module$common$common.CONNECTION_MESSAGE&&a.method==MessageMethod$$module$common$common.ESTABLISH)?a:null},subscribeToDocumentReady$$module$common$common=function(a){console.log("subscribeToDocumentReady");window.TradingViewApi?(console.log("TradingViewApi is ready"),
a()):(console.log("TradingViewApi is not ready yet"),(window.chartApiReady=window.chartApiReady||[]).push(a))},checkChartConnection$$module$common$common=function(a){console.log("_checkChartConnection");window.TradingViewApi||a()},_logError$$module$common$common=function(a,b){b=void 0===b?"":b;console.error(JSON.stringify(a,replaceErrors$$module$common$common),b)},ActionType$$module$common$common={COMPARE:"COMPARE",INDICATORS:"INDICATORS",FINANCIALS:"FINANCIALS",OBJECTS_TREE:"OBJECTS_TREE",CHART_PROPERTIES:"CHART_PROPERTIES",
CHART_LAYOUT_SAVE_AS:"CHART_LAYOUT_SAVE_AS",CHART_LAYOUT_RENAME:"CHART_LAYOUT_RENAME",CHART_LAYOUT_CREATE:"CHART_LAYOUT_CREATE",CHART_LAYOUT_LOAD:"CHART_LAYOUT_LOAD",ALERTS:"ALERTS",DETAILS:"DETAILS",FINANCIALS_CHARTS:"FINANCIALS_CHARTS",TRADING:"TRADING",TRADING_LOGIN:"TRADING_LOGIN",ADD_ALERT:"ADD_ALERT",TEMPLATES:"TEMPLATES"};function replaceErrors$$module$common$common(a,b){if(b instanceof Error){var c={};Object.getOwnPropertyNames(b).forEach(function(d){c[d]=b[d]});return c}return b}
var module$common$common={ActionType:ActionType$$module$common$common,MessageMethod:MessageMethod$$module$common$common,MessageType:MessageType$$module$common$common,_logError:_logError$$module$common$common,_notImplemented:_notImplemented$$module$common$common,checkChartConnection:checkChartConnection$$module$common$common,getEstablishConnectionMessageOrNull:getEstablishConnectionMessageOrNull$$module$common$common,subscribeToDocumentReady:subscribeToDocumentReady$$module$common$common};window.$sub=window.$sub||{};
window.$sub.Chart$subscribeOnAnyDialogVisibilityChanged={sub:function(a,b){a=function(p){b({dialogOrPanelType:ActionType$$module$common$common.COMPARE,isVisible:p})};var c=function(p){b({dialogOrPanelType:ActionType$$module$common$common.INDICATORS,isVisible:p})},d=function(p){b({dialogOrPanelType:ActionType$$module$common$common.FINANCIALS,isVisible:p})},e=function(p){b({dialogOrPanelType:ActionType$$module$common$common.OBJECTS_TREE,isVisible:p})},m=function(p){b({dialogOrPanelType:ActionType$$module$common$common.CHART_PROPERTIES,isVisible:p})},
h=function(p){b({dialogOrPanelType:ActionType$$module$common$common.CHART_LAYOUT_SAVE_AS,isVisible:p})},l=function(p){b({dialogOrPanelType:ActionType$$module$common$common.CHART_LAYOUT_RENAME,isVisible:p})},f=function(p){b({dialogOrPanelType:ActionType$$module$common$common.CHART_LAYOUT_CREATE,isVisible:p})},g=function(p){b({dialogOrPanelType:ActionType$$module$common$common.CHART_LAYOUT_LOAD,isVisible:p})},k=function(p){b({dialogOrPanelType:ActionType$$module$common$common.ALERTS,isVisible:p})},
n=function(p){b({dialogOrPanelType:ActionType$$module$common$common.DETAILS,isVisible:p})},q=function(p){b({dialogOrPanelType:ActionType$$module$common$common.FINANCIALS_CHARTS,isVisible:p})},t=function(p){b({dialogOrPanelType:ActionType$$module$common$common.TRADING,isVisible:p})},u=function(p){b({dialogOrPanelType:ActionType$$module$common$common.TRADING,isVisible:p.isVisible})},v=function(p){b({dialogOrPanelType:ActionType$$module$common$common.ADD_ALERT,isVisible:0<p.size})},w=function(p){b({dialogOrPanelType:ActionType$$module$common$common.TEMPLATES,
isVisible:p})};TradingViewApi.dialogs().Compare.visible().subscribe(a);TradingViewApi.dialogs().Indicators.visible().subscribe(c);TradingViewApi.dialogs().Financials.visible().subscribe(d);TradingViewApi.dialogs().ObjectsTree.visible().subscribe(e);TradingViewApi.dialogs().ChartProperties.visible().subscribe(m);TradingViewApi.dialogs().ChartLayoutSaveAs.visible().subscribe(h);TradingViewApi.dialogs().ChartLayoutRename.visible().subscribe(l);TradingViewApi.dialogs().ChartLayoutCreate.visible().subscribe(f);
TradingViewApi.dialogs().ChartLayoutLoad.visible().subscribe(g);TradingViewApi.dialogs().Alerts.visible().subscribe(k);TradingViewApi.dialogs().Details.visible().subscribe(n);TradingViewApi.dialogs().FinancialsCharts.visible().subscribe(q);TradingViewApi.trading().tradingPanelPopup.visible().subscribe(t);TradingViewApi.trading().loginDialogVisibility.subscribe(u);TradingViewApi.alertService().getAlertDialogInvocations().subscribe(v);TradingViewApi.studyTemplatesDrawerApi().then(function(p){return p.visible().subscribe(w)});
var r=new Map;r.set(ActionType$$module$common$common.COMPARE,a);r.set(ActionType$$module$common$common.INDICATORS,c);r.set(ActionType$$module$common$common.FINANCIALS,d);r.set(ActionType$$module$common$common.OBJECTS_TREE,e);r.set(ActionType$$module$common$common.CHART_PROPERTIES,m);r.set(ActionType$$module$common$common.CHART_LAYOUT_SAVE_AS,h);r.set(ActionType$$module$common$common.CHART_LAYOUT_RENAME,l);r.set(ActionType$$module$common$common.CHART_LAYOUT_CREATE,f);r.set(ActionType$$module$common$common.CHART_LAYOUT_LOAD,
g);r.set(ActionType$$module$common$common.ALERTS,k);r.set(ActionType$$module$common$common.DETAILS,n);r.set(ActionType$$module$common$common.FINANCIALS_CHARTS,q);r.set(ActionType$$module$common$common.TRADING,t);r.set(ActionType$$module$common$common.TRADING_LOGIN,u);r.set(ActionType$$module$common$common.ADD_ALERT,v);r.set(ActionType$$module$common$common.TEMPLATES,w);return r},unsub:function(a){TradingViewApi.dialogs().Compare.visible().unsubscribe(a.get(ActionType$$module$common$common.COMPARE));
TradingViewApi.dialogs().Indicators.visible().unsubscribe(a.get(ActionType$$module$common$common.INDICATORS));TradingViewApi.dialogs().Financials.visible().unsubscribe(a.get(ActionType$$module$common$common.FINANCIALS));TradingViewApi.dialogs().ObjectsTree.visible().unsubscribe(a.get(ActionType$$module$common$common.OBJECTS_TREE));TradingViewApi.dialogs().ChartProperties.visible().unsubscribe(a.get(ActionType$$module$common$common.CHART_PROPERTIES));TradingViewApi.dialogs().ChartLayoutSaveAs.visible().unsubscribe(a.get(ActionType$$module$common$common.CHART_LAYOUT_SAVE_AS));
TradingViewApi.dialogs().ChartLayoutRename.visible().unsubscribe(a.get(ActionType$$module$common$common.CHART_LAYOUT_RENAME));TradingViewApi.dialogs().ChartLayoutCreate.visible().unsubscribe(a.get(ActionType$$module$common$common.CHART_LAYOUT_CREATE));TradingViewApi.dialogs().ChartLayoutLoad.visible().unsubscribe(a.get(ActionType$$module$common$common.CHART_LAYOUT_LOAD));TradingViewApi.dialogs().Alerts.visible().unsubscribe(a.get(ActionType$$module$common$common.ALERTS));TradingViewApi.dialogs().Details.visible().unsubscribe(a.get(ActionType$$module$common$common.DETAILS));
TradingViewApi.dialogs().FinancialsCharts.visible().unsubscribe(a.get(ActionType$$module$common$common.FINANCIALS_CHARTS));TradingViewApi.alertService().getAlertDialogInvocations().unsubscribe(a.get(ActionType$$module$common$common.ADD_ALERT));TradingViewApi.studyTemplatesDrawerApi().then(function(b){return b.visible().unsubscribe(a.get(ActionType$$module$common$common.TEMPLATES))});TradingViewApi.waitTrading().then(function(b){b.tradingPanelPopup.visible().unsubscribe(a.get(ActionType$$module$common$common.TRADING))})}};
var module$chart$dialogs$dialogs_subs={};window.$sub=window.$sub||{};window.$fn=window.$fn||{};var subscriptions$$module$chart$initial_error_subs=[];function onErrorCatch$$module$chart$initial_error_subs(){subscriptions$$module$chart$initial_error_subs.forEach(function(a){a()})}function subscribe$$module$chart$initial_error_subs(a){subscriptions$$module$chart$initial_error_subs.push(a)}function unsubscribe$$module$chart$initial_error_subs(a){subscriptions$$module$chart$initial_error_subs.filter(function(b){return b!=a})}
window.$sub.Chart$subscribeOnInitialError={sub:function(a,b){subscribe$$module$chart$initial_error_subs(b);return b},unsub:function(a){unsubscribe$$module$chart$initial_error_subs(a)}};window.$fn.Chart$forceInitialError=function(a){onErrorCatch$$module$chart$initial_error_subs()};var module$chart$initial_error_subs={};module$chart$initial_error_subs.onErrorCatch=onErrorCatch$$module$chart$initial_error_subs;subscribeToDocumentReady$$module$common$common(function(){if(TradingViewApi&&MobileClient)MobileClient.onChartPageReady(window.location.href);else console.error("TradingViewApi: "+TradingViewApi,"MobileClient: "+MobileClient)});try{init$$module$core$init()}catch(a){console.error(a),onErrorCatch$$module$chart$initial_error_subs()}var module$chart$index={};
